<template>
    <div>
        <div class="mobile">
            <!--header 开始-->
            <header>
                <div class="header">
                    <a class="new-a-back" href="javascript:history.back();"> <i class="icon-fanhui"></i> </a>
                    <h2>台球馆</h2>
                </div>
            </header>
            <!--header 结束-->
            <!--main-->
            <div class="main" id="main" style="padding-top:0;">
                <div id="tabfirst" class="tab weekTab">
                    <ul class="cl">
                        <li class="home_1 nowpage">
                            <p>06.14</p>
                            <a href="#">二</a>
                        </li>
                        <li class="home_2">
                            <p>06.15</p>
                            <a href="#">三</a>
                        </li>
                        <li class="home_3">
                            <p>06.16</p>
                            <a href="#">四</a>
                        </li>
                        <li class="home_4">
                            <p>06.17</p>
                            <a href="#">五</a>
                        </li>
                        <li class="home_4">
                            <p>06.18</p>
                            <a href="#">六</a>
                        </li>
                        <li class="home_4">
                            <p>06.19</p>
                            <a href="#">日</a>
                        </li>
                        <li class="home_4">
                            <p>06.20</p>
                            <a href="#">一</a>
                        </li>
                    </ul>
                </div>
                <div class="top98">
                    <div class="CDList nowCon cl">
                        <ul class="CDname fl">
                            <li>1号场</li>
                            <li>2号场</li>
                        </ul>
                        <div class="slide" id="slide">
                            <div class="slide-area">
                                <ul class="time-list">
                                    <li>8:00</li>
                                    <li>9:00</li>
                                    <li>10:00</li>
                                    <li>11:00</li>
                                    <li>12:00</li>
                                    <li>13:00</li>
                                    <li>14:00</li>
                                    <li>15:00</li>
                                    <li>16:00</li>
                                    <li>17:00</li>
                                    <li>18:00</li>
                                    <li>19:00</li>
                                    <li>20:00</li>
                                    <li>21:00</li>
                                    <li>22:00</li>
                                </ul>
                                <ul class="item-list">
                                    <li>
                                        <input id="time_1" class="radio" name="shijian" type="checkbox">
                                        <label for="time_1" class="trigger">
                                            <p class="money">￥26</p>
                                        </label>
                                    </li>
                                    <li>
                                        <p class="bggrey">已过期</p>
                                    </li>
                                    <li>
                                        <p class="bggrey">已过期</p>
                                    </li>
                                    <li>
                                        <input id="time_2" class="radio" name="shijian" type="checkbox">
                                        <label for="time_2" class="trigger">
                                            <p class="money">￥26</p>
                                        </label>
                                    </li>
                                    <li>
                                        <input id="time_3" class="radio" name="shijian" type="checkbox">
                                        <label for="time_3" class="trigger">
                                            <p class="money">￥26</p>
                                        </label>
                                    </li>
                                    <li>
                                        <input id="time_4" class="radio" name="shijian" type="checkbox">
                                        <label for="time_4" class="trigger">
                                            <p class="money">￥26</p>
                                        </label>
                                    </li>
                                    <li>
                                        <input id="time_5" class="radio" name="shijian" type="checkbox">
                                        <label for="time_5" class="trigger">
                                            <p class="money">￥26</p>
                                        </label>
                                    </li>
                                    <li>
                                        <input id="time_6" class="radio" name="shijian" type="checkbox">
                                        <label for="time_6" class="trigger">
                                            <p class="money">￥26</p>
                                        </label>
                                    </li>
                                    <li>
                                        <input id="time_7" class="radio" name="shijian" type="checkbox">
                                        <label for="time_7" class="trigger">
                                            <p class="money">￥26</p>
                                        </label>
                                    </li>
                                    <li>
                                        <input id="time_8" class="radio" name="shijian" type="checkbox">
                                        <label for="time_8" class="trigger">
                                            <p class="money">￥26</p>
                                        </label>
                                    </li>
                                    <li>
                                        <input id="time_9" class="radio" name="shijian" type="checkbox">
                                        <label for="time_9" class="trigger">
                                            <p class="money">￥26</p>
                                        </label>
                                    </li>
                                    <li>
                                        <input id="time_10" class="radio" name="shijian" type="checkbox">
                                        <label for="time_10" class="trigger">
                                            <p class="money">￥26</p>
                                        </label>
                                    </li>
                                    <li>
                                        <input id="time_11" class="radio" name="shijian" type="checkbox">
                                        <label for="time_11" class="trigger">
                                            <p class="money">￥26</p>
                                        </label>
                                    </li>
                                    <li>
                                        <input id="time_12" class="radio" name="shijian" type="checkbox">
                                        <label for="time_12" class="trigger">
                                            <p class="money">￥26</p>
                                        </label>
                                    </li>
                                    <li class="itemList">
                                        <input id="time_13" class="radio" name="shijian" type="checkbox">
                                        <label for="time_13" class="trigger">
                                            <p class="money">￥26</p>
                                        </label>
                                    </li>
                                </ul>
                                <ul class="item-list">
                                    <li>
                                        <input id="time_14" class="radio" name="shijian" type="checkbox">
                                        <label for="time_14" class="trigger">
                                            <p class="money">￥26</p>
                                        </label>
                                    </li>
                                    <li>
                                        已过期
                                    </li>
                                    <li>
                                        <p class="bggrey">已过期</p>
                                    </li>
                                    <li>
                                        <input id="time_15" class="radio" name="shijian" type="checkbox">
                                        <label for="time_15" class="trigger">
                                            <p class="money">￥26</p>
                                        </label>
                                    </li>
                                    <li>
                                        <input id="time_16" class="radio" name="shijian" type="checkbox">
                                        <label for="time_16" class="trigger">
                                            <p class="money">￥26</p>
                                        </label>
                                    </li>
                                    <li>
                                        <input id="time_17" class="radio" name="shijian" type="checkbox">
                                        <label for="time_17" class="trigger">
                                            <p class="money">￥26</p>
                                        </label>
                                    </li>
                                    <li>
                                        <input id="time_18" class="radio" name="shijian" type="checkbox">
                                        <label for="time_18" class="trigger">
                                            <p class="money">￥26</p>
                                        </label>
                                    </li>
                                    <li>
                                        <input id="time_19" class="radio" name="shijian" type="checkbox">
                                        <label for="time_19" class="trigger">
                                            <p class="money">￥26</p>
                                        </label>
                                    </li>
                                    <li>
                                        <p class="bggrey">已过期</p>
                                    </li>
                                    <li>
                                        <p class="bggrey">已过期</p>
                                    </li>
                                    <li>
                                        <p class="bggrey">已过期</p>
                                    </li>
                                    <li>
                                        <input id="time_20" class="radio" name="shijian" type="checkbox">
                                        <label for="time_20" class="trigger">
                                            <p class="money">￥26</p>
                                        </label>
                                    </li>
                                    <li>
                                        <input id="time_21" class="radio" name="shijian" type="checkbox">
                                        <label for="time_21" class="trigger">
                                            <p class="money">￥26</p>
                                        </label>
                                    </li>
                                    <li>
                                        <input id="time_22" class="radio" name="shijian" type="checkbox">
                                        <label for="time_22" class="trigger">
                                            <p class="money">￥26</p>
                                        </label>
                                    </li>
                                    <li class="itemList">
                                        <input id="time_23" class="radio" name="shijian" type="checkbox">
                                        <label for="time_23" class="trigger">
                                            <p class="money">￥26</p>
                                        </label>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <ul class="colorTip">
                <li>
                    <i class="bggrey"></i>不可定
                </li>
                <li>
                    <i class="bgwhite"></i>可定
                </li>
                <li>
                    <i class="bgchecked"></i>已选择
                </li>
            </ul>
            <div class="select-message">
                <h3>基本信息</h3>
                <ul class="text-list">
                    <li>
                        场地信息<span>85㎡</span>
                    </li>
                    <li>
                        可容纳<span>50人</span>
                    </li>
                    <li>
                        收费标准<span>60元/人</span>
                    </li>
                </ul>
                <h3>现场图</h3>
                <ul class="img-list">
                    <li v-for="(img,index) in imgList" @click="swiperShow(index)">
                        <div class="img-box">
                            <img :src="img">
                        </div>
                    </li>
                </ul>
            </div>
            <div class="swiper-tc" v-if="swiper_tc" @click="swiperHide">
                <div class="slider-wrapper" v-if="imgList.length">
                    <slider>
                        <div v-for="img in imgList">
                            <img :src="img">
                        </div>
                    </slider>
                </div>
            </div>
            <footer class="fixedFooter">
                <div class="bottomBtn">
                    <div class="btn">
                        <a class="yellow" id="order">立即预定</a>
                    </div>
                </div>
            </footer>
            <!--main-->
            <div style="height:54px;"></div>
        </div>
        <div class="Tc certifyTc" style="display:none;">
            <div class="mengban"></div>
            <div class="tcCon">
                <form class="form">
                    <div class="input-box">
                        <label>手机号</label>
                        <input type="text" placeholder="输入手机号码" class="input">
                    </div>
                    <div class="input-box">
                        <label>验证码</label>
                        <input type="text" placeholder="输入验证码" id="certifycode" class="input certifycode">
                        <div class="btn-box">
                            <input type="button" class="btn" value="获取验证码" onclick="clickButton(this)"/>
                        </div>
                    </div>
                </form>
                <p class="text">请输入联系方式，以便于我们即使与您联系 </p>
                <div class="footer-box">
                    <a class="sure" href="pay.html">确定</a>
                </div>
            </div>
        </div>
    </div>
</template>

<script type="text/ecmascript-6">
    import slider from '../components/slider.vue'
    import api from '../utils/api'
    export default {
        data() {
            return {
                swiper_tc: false,
                imgList: [],
                dots:[],
                swiper: null,
                loop: false,
                autoPlay: false,
                currentIndex: 0
            }
        },
        created() {
            let _this = this;
            console.log()
            api.getImgList().then(response => {
                this.imgList = response.data;
            })
        },
        mounted() {
            $('.slide').each(function () {
                var slideLiW = $(".slide .time-list li").width();
                var slideLiN = $(this).find(".time-list").find("li").length;
                var ulW = (slideLiW + 1) * slideLiN;
                $(".slide .slide-area").width(ulW);
                $(".slide ul").width(ulW);
            });
            $("#order").on("click", function () {
                var tc = $(".certifyTc");
                tc.show();
                tc.find(".sure").on("click", function () {
                    tc.hide();
                })
            })
        },
        components: {
          slider
        },
        methods: {
            swiperShow(index) {
                this.swiper_tc = true;
            },
            swiperHide() {
                this.swiper_tc = false;
            }
        },
    }
</script>
<style scoped lang="stylus" rel="stylesheet/stylus">
.slider-wrapper
    position: relative
    width: 100%
    top: 20%
    overflow: hidden
</style>